% experiments and result

\chapter{Results}
\label{results}

In this chapter all the results are presented in an objective way: starting with a complete analysis of the data, and concluding with the result discussion. In these sections some graphs, figures and tables are provided for a better description of the results obtained.

%----------------------------------------------------------------------------------------


\section{Results analysis}
\label{results-analysis}
This section has been divided into various subsections for a better description of the results.

\subsection{Comments about trials}
\label{comments-about-trials}

During the experiment all the participants were set free to pick up the objects in the order they prefer. All of them use the order as $ \{ $\textit{triangle, trapezoid and circle}$ \} $, but only one decided to pick up the objects in different order for all the trials only in \kt{}. This doesn't affect the data. \\
As described in \ref{experimental-design}, for every task three trials in both the modalities were done. From these trials some comments was taken and it's possible to report that:
\begin{itemize}
	\item in \textbf{\kt{}} there aren't many additional comments. Only one user, for every trial, took many waypoints even after it was shown to him how the robot replicates the sequence. Moreover sometimes some users wrong in taking the waypoint and opens or closes the gripper, but this not affect the final realization. Finally one user, the most experienced in the use of robots who knows the environment well, always takes a point just above the place position to make the interlocking without problems: this happens only for the second task.
	
	\item in \textbf{\te{}} there were many problems in teaching phase. Out of ten users, seven of them made a collision. In figure \ref{fig:pass_fail} successes and failures during teaching phase are shown. With $ \{t1,t2\} $ is indicated the task and with $ \{r1,r2,r3\} $ the trial. We can see that the first and the second column, that are the first trails have a high number of failures.
	In task $ t1 $ and trial $ r1,r2 $ and task $ t2 $ and trial $ r1 $ we can see that there was only a mistake by all the users: this is acceptable. The surprising value is the last one (task $ t2 $ and trial $ r3 $): it would be logical that this value was zero or small because it's the latest trial and the users should have become very familiar with the pad. The users who made these mistakes were only those who started with \te{}.
	
	\begin{figure}[ht]
		\centering
		\includegraphics[scale=0.2]{pass_fail_teleop.png}
		\caption{Failures in \te{} teaching}
		\label{fig:pass_fail}
	\end{figure}

	Overall the error rate during the teach phase is $ 16.6\% $: for a better report it's possible to resume the success rate for each trial of all users as evidenced in table \ref{tab:pass}. It was also noted that during the trials sometimes they forgot to save the waypoints and it was remembered to the users to save them for a better replay phase.% Regarding the replay phase shown after the first trail, if the teaching phase was passed all the replay were done correctly by the robot.
	\begin{table}[ht]
		\centering
		\begin{tabular}{c||cccccc}
			& \textbf{t1-r1} & \textbf{t1-r2} &\textbf{t1-r3} & \textbf{t2-r1} &\textbf{t2-r2} &\textbf{t2-r3} \\
			\hline\hline	
			\textbf{\checkmark}	&$ 70\% $	&$ 80\% $	&$ 90\% $	&$ 90\% $ &$ 90\% $	&$ 80\% $ \\
		\end{tabular}
		\caption{Success rate for each trial of\\ each task in \te{} teaching}
		\label{tab:pass}
	\end{table}

\end{itemize}

\subsection{Questionnaire results}
\label{questionnaire-results}
% trovare correlazioni tra la stazza e la difficolta per fare kt, oppure et√†, gamer ecc...

The questionnaire was divided into two phases as described in section \ref{post-experiment-phase}, the first part has already been presented in \ref{participants}. The second part instead asked mainly some questions which had to be given a score between $ 1 $ and $ 10 $. The questions with the sensible results to presents are:

\begin{itemize}
	\item how much \textbf{physical effort} was required for \te{}/\kt{}?
	
	In figure \ref{fig:physical_effort} we can immediately spot the differences between the two modalities: in \kt{} since the task are performed moving the robot a force to move it is necessary. The medium value is $ 5 $ which tells us that it's actually not that difficult to move the robot. On the other side, the boxplot relative to \te{} indicates that there's no physical effort for moving the robot.
	
	\begin{figure}[ht]
		\centering
		\includegraphics[scale=0.2]{physical_effort.png}
		\caption{Physical effort in \kt{} and \te{}}
		\label{fig:physical_effort}
	\end{figure}

	\item how much \textbf{mental effort} was required for \te{}/\kt{}?
	
	In figure \ref{fig:mental_effort} it's possible to immediately spot that the two modalities requires mental effort similar among them, respect to physical effort. We can notice that the medium value for \te{} is higher that the medium one in \kt{}. Obviously in \te{} for moving the robot it's necessary to remember all the buttons and commands that have been taught in teach phase before the experiment, but this values is lowered by the users which have confidence with the pad. Moreover a greater mental effort is required because the user have to coordinate and understand the reference frame that is used on the robot compared to the one you are used to using.
	
	\begin{figure}[ht]
		\centering
		\includegraphics[scale=0.2]{mental_effort.png}
		\caption{Mental effort in \kt{} and \te{}}
		\label{fig:mental_effort}
	\end{figure}

\end{itemize}
\noindent From the final comments not obligatory for the purposes of the questionnaire, the users said that the \te{} is very interesting and they propose to map a new button on pad to move faster for long movements and another one to be better precise. Instead they propose to add an audio feedback after getting the pose or changing the control mode. Moreover an user propose to let him choose the reference frame that is used to move the robot.

\subsection{Groups}
\label{groups}

From the questionnaire questions and answers is possible to create some different groups based on personal physical characteristics. Many different factors were analyzed to see if there was a correlation between the various characteristics of the users and the results obtained from the experiment. From the data is possible to determine two possible classifications based on:

\begin{itemize}
	% TODO trovare qualcosa di meglio per dividere i gruppi
	\item \textbf{physical characteristics}: in questionnaire was asked the weight and height keeping a range between $ 10cm $ and $ 10kg $. From the answers is possible to classify two macro groups, both of them composed by five users.
	The first group is composed by the users which height is less or equal than $ 70kg $ and which height it's also in this case less or equal than $ 180cm $. This group is  conveniently identified and ... in the next sections with \smallusers. The other group, identified with \bigusers{} is composed by users with weight grater that $ 70kg $ and height grater than $ 170cm $. There are also two users in this group that are taller than $ 180cm $.	
	
	%This group were classified using \textit{Body Mass Index} (BMI) to have a comparison metric weight and height. A threshold value was found and it's $ 21.5 $ $ kg/m^{2} $.
	%The first group is composed by the users which BMI is less or equal than the threshold. This group is  conveniently identified and named in the next sections with \smallusers which stands for low body users. The other group, identified with \bigusers is composed by users with weight grater that $ 70kg $ and height grater than $ 170cm $. There are also two users in this group that are taller than $ 180cm $.	
	 
	\item \textbf{confidence with the pad}: the same reasoning can be applied to this classification. In the questionnaire was asked the level of confidence with the pad, that is with how frequency the pad is used and from the answers two macro groups both of them composed by 5 people. The users who replied more than once a week and at least once a month were classified as regular players and these users are called \textbf{RP}. The users who replied that they use the pad once a year or they never used it were classified as casual players and they are called \textbf{CP}. Also all the users who have used the pad in the past are casual players.
\end{itemize}

\noindent Moreover, during the experiment phase five users were made to start with the phase related to \kt{} and the other five with \te{} to better divide users into groups for a possible analysis of these factors as well. In section \ref{results-discussion} the results obtained starting from the two classifications described above and from the questionnaire are explained.

\subsection{Data analysis}
\label{data-analysis}

To have groups with better data, one user for each group with an elevate standard deviation calculated for each task over the three trials have been removed. In following tables the time and distance for complete each task in both the modalities are represented as difference between the two groups that were created based on physical characteristics. 
In table \ref{tab:time} the values are described in terms of seconds, instead in table \ref{tab:distance} the values presented are in meters. For both tables the first two columns indicates the groups, in the third one the difference between the \smallusers{} and \bigusers{} group is provided. In the last column the gain between the performances of the two groups is expresses as percentage. The rows represent which task is performed and in which mode. The positive and negative symbol was kept to indicate which of the two groups resulted faster or which one made less distance.
\begin{table}[H]
	\centering
	\begin{tabular}{l||cccc}
		& \smallusers & \bigusers & \textbf{Difference} & \textbf{Gain}\\
		\hline \hline
		\textbf{TT - Task1} & $ 147 $ & $ 154 $ & $ -7 $  & $ -4,5\% $\\
		\textbf{KT - Task1} & $ 70 $  & $ 64 $  & $ +6 $ & $ 9,4\% $\\
		\textbf{TT - Task2} & $ 175 $ & $ 192 $ & $ -17 $ & $ -8,9\% $\\
		\textbf{KT - Task2} & $ 70 $  & $ 62 $  & $ +8 $  & $ 12,3\% $
	\end{tabular}
	\caption{Time difference in seconds between the two groups}
	\label{tab:time}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{l||cccc}
		& \smallusers & \bigusers & \textbf{Difference} & \textbf{Gain}\\
		\hline \hline
		\textbf{TT - Task1} & $ 2,10 $ & $ 2,23 $ & $ -0,13 $ & $ -5,8\% $\\
		\textbf{KT - Task1} & $ 2,54 $ & $ 2,39 $ & $ +0,15 $ & $ 6,3\% $\\
		\textbf{TT - Task2} & $ 1,97 $ & $ 2,34 $ & $ -0,37 $ & $ -15,8\% $\\
		\textbf{KT - Task2} & $ 2,54 $ & $ 2,29 $ & $ +0,25 $ & $ 10,9\% $
	\end{tabular}
	\caption{Distance difference in meters between the two groups}
	\label{tab:distance}
\end{table}

\noindent
In figure \ref{fig:time_and_distance_group_t2} the two figures indicates the same values of previous tables. The figure \ref{fig:time_groups_t2} represents graphically the table \ref{tab:time} and the values on $ x $ axis are in seconds. Instead in figure \ref{fig:distance_groups_t2.png} there are the data represented in table \ref{tab:distance} and the values on $ x $ axis are in meters. From these figures is possible to quickly understand the differences between the two groups and the different modalities. Moreover it's possible to understand the correlation between time and distance. Only times and distances for the task $ t1 $ are represented in the these figures: the figures for task $ t2 $ are similar but with the values described in the relevant table.

\begin{figure}[H]
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{time_groups_t2.png}
		\caption{Time in seconds for completing task $ t1 $}
		\label{fig:time_groups_t2}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{distance_groups_t2.png}
		\caption{Distance in meters for completing task $ t1 $}
		\label{fig:distance_groups_t2.png}
	\end{subfigure}
	\caption{Time and distance for completing task $ t1 $ \\in both the modalities for each group}
	\label{fig:time_and_distance_group_t2}
\end{figure}

\noindent
From the questionnaire was possible to collect data relative to physical and mental effort. These data have been manipulated with division into groups based on physical characteristics. In table \ref{tab:effort} there is the average of the values indicated by the users in questionnaire. The value that was to be indicated were in scale from $ 1 $ to $ 10 $. As the previous tables, on first and second column there are the two groups. Instead, on the rows there are the different efforts. The first two rows are relative to mental effort, the first one in \te{} and the second one in \kt{}. The third row is relative to physical effort in \te{} and the last one refers to \kt{}. The overall values without the divisions into groups can be seen in figure \ref{fig:mental_effort} for mental effort and in figure \ref{fig:physical_effort} for physical effort.

\begin{table}[H]
	\centering
	\begin{tabular}{l||cc}
		& \smallusers{} & \bigusers{} \\
		\hline \hline
		\textbf{Mental - TT}	& $ 5,6 $ & $ 6 $ \\
		\textbf{Mental - KT}	& $ 5,2 $ & $ 2,8 $ \\
		\textbf{Physical - TT} 	& $ 1,2 $ & $ 1,2 $ \\
		\textbf{Physical - KT} 	& $ 5,4 $ & $ 3,8 $
	\end{tabular}
	\caption{Physical and mental effort in both the modalities}
	\label{tab:effort}
\end{table}

\noindent
As described in the previous chapters many data were collected during the experiment. One of these is the \texttt{cartesian\_wrench}: it's composed of a vector that represent the force along three directions $ \{ x,y,z \} $. In figure \ref{fig:plot_wrench} is possible to see the differences between the force applied on EE during the experiment, in \te{} the interaction forces are limited instead in \kt{} the forces are high.  In both figures on $ y $ axis there's the force applied on $ z $ and along $ x $ axis there is the time in seconds to complete the trial. In these figures only one trial of the same user is represented. The same graphs, that are similar, can be calculated on forces applied on $ x $ and $ y $. 

\begin{figure}[H]
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_tt.png}
		\caption{\Te{} teaching}
		\label{fig:wrench_tt}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_kt.png}
		\caption{\Kt{} teaching}
		\label{fig:wrenck_kt}
	\end{subfigure}
	\caption{Difference between wrench on Z \\in \te{} and \kt{}}
	\label{fig:plot_wrench}
\end{figure}

\noindent
In figure \ref{fig:wrench_all} there is another representation of \texttt{cartesian\_wrench} calculated on $ x,y,z $. These figures represent the difference between \kt{} and \te{} teaching between the two groups always divided by physical characteristics. All the boxplots shown in both the figures are divided in three groups (a group for each value of the wrench $\{ x,y,z \}$) and every group has two boxplots: the first one for \smallusers{} group and the second one for \bigusers{} group.
Each boxplot represent the sum of the forces applied on EE by all users divided per groups performing all the trials $\{ r1,r2,r3\} $ of each task $\{ t1,t2 \}$.
On $ x $ axis the force applied on EE is represented in $ N $.

\begin{figure}[H]
	\centering
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_all_kt.png}
		\caption{\Te{} teaching}
		\label{fig:wrench_all_kt}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_all_tt.png}
		\caption{\Kt{} teaching}
		\label{fig:wrench_all_tt}
	\end{subfigure}
	\caption{Wrench on $ x,y,z $ of users grouped by physical \\characteristics in \te{} and \kt{}}
	\label{fig:wrench_all}
\end{figure}

\noindent
The table represented in figure \ref{tab:ratio} represent the total number of waypoints taken by all users grouped by physical characteristics during all trials for each task in different modalities. It's possible to notice that there are two macro columns and each of them contains other three columns. For each macro column, the first column contains the number of trials completed by all users of the group. The second column contains the number of waypoints taken by all users during all the trails and the third column is the ratio between the two first columns. Instead the rows represent the modality and the task that is performed.
The minimum number of waypoints to have a task that can be replayed correctly by the \kuka{} is $ 16 $: three points for every objects except only two points for the first and last object. Instead the optimal number is $ 18 $: three points for every object to pick and place.

\begin{table}[H]
	\centering
	\begin{tabular}{l||ccl||ccl}
		& \multicolumn{3}{c||}{\smallusers} & \multicolumn{3}{c}{\bigusers} \\
		\hline 
		& \textbf{trials} & \textbf{waypoints} & \textbf{ratio} & \textbf{trials} & \textbf{waypoints} & \textbf{ratio} \\
		\hline \hline
		\textbf{TT - Task1}	& $ 12 $ & $ 191 $ & $ 15,9 $ & $ 12 $ & $ 225 $ & $ 18,8 $\\
		\textbf{TT -Task2}	& $ 13 $ & $ 225 $ & $ 17,3 $ & $ 13 $ & $ 267 $ & $ 20,5 $\\
		\textbf{KT - Task1}	& $ 15 $ & $ 256 $ & $ 17 $   & $ 14 $ & $ 294 $ & $ 21 $ \\
		\textbf{KT - Task2}	& $ 15 $ & $ 277 $ & $ 18,5 $ & $ 15 $ & $ 298 $ & $ 19,9 $
	\end{tabular}

	\caption{Difference on waypoints taken during the execution of the task} 
	\label{tab:ratio}
\end{table}

\noindent
In figure \ref{fig:waypoints} are shown the waypoints taken during the execution of the task $ t1 $. The red points are referred to \smallusers{} group, instead the blue ones are for \bigusers{} group. On $ x $ and $ y $ axis there is the locations of the points within the space. Each patch of color indicates the position of the shapes, while the $ \square $ mark indicates the position of the cube above each object to facilitate grasping. All waypoints aren't in the center of the object because the opening of the gripper is bigger than the shapes to manipulate.

\begin{figure}[H]
	\centering
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{waypoints_kt_t1.png}
		\caption{\Kt{} teaching}
		\label{fig:waypoints_kt_t1}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{waypoints_tt_t1.png}
		\caption{\Te{} teaching}
		\label{fig:waypoints_tt_t1}
	\end{subfigure}
	\caption{Waypoints precision in \te{} and \kt{} teaching}
	\label{fig:waypoints}
\end{figure}

\section{Results discussion}
\label{results-discussion}

The result discussion is done based on groups divided by physical characteristics. These groups allows us to evaluate the difference between \te{} and \kt{}, and moreover allows us to respond to the section relative to goals. It's necessary to make an initial clarification: the \smallusers{} group is composed by four users which are definite as regular players. This bias was noticed only after the analysis that was made on users by physical characteristics, and will allow us to make important observations as regards the \te{} mode. Moreover, it was also noted in the analysis phase as four users from the \smallusers{} group never used a robot before this experiment.\\ %This section begins with some clarifications about the two phases: in \kt{} teaching only one trial failed, instead in \te{} teaching many trails failed as described in figure \ref{fig:pass_fail}. This happens because the users aren't very sensitive with the pad and in the critical phases they try to do all the teaching phase using position control and they don't change in impedance control.

\noindent
Starting from the data relative to the distance and time to complete the tasks in both the modalities is possible to affirm that the phase relative to \te{} teaching is slower than the phase relative to \kt{} teaching. This aspect is independent of the division into groups. Also, as we can see in figure \ref{fig:time_and_distance_group_t2} starting from the division in group we can notice some differences between the \smallusers{} and the \bigusers{} group. The \smallusers{} group is faster than the other one in \te{}, and the concept of time to complete the task is related to the distance to complete the same task. This concept is related to the fact that four users in \smallusers{} group are \regular{}. So, if an user travel less distance than he is faster. Instead, regarding the \kt{} phase it's possible to notice a substantial difference with respect to the \te{}: controlling the robot in gravity compensation is absolutely faster than using remote control. But in this case, unlike the \te{} the users of the group \bigusers{} are actually faster than the users of the other group. This is due to the physical characteristics of each user. We can therefore say with certainty that the \te{} unifies the differences about physical characteristics and if the confidence with the pad was the same among all the users, event the times could be unified among all. \\

\noindent
From table \ref{tab:effort} is possible to see the differences between the two groups. For a better explanation the various efforts in the two modalities are divided into four points:
\begin{itemize}
	\item \textbf{Mental effort in \te{}}
	
	The difference between the mental effort ($ 5,6 $ for \smallusers{} and $ 6 $ for \bigusers) of the groups are not high. The \smallusers{} group has a lower value, which implies that the users of this group are more relaxed. This is mainly due to the fact that these users have confidence with the pad, although this values should be higher because four users never seen a robot before this experiment. From these values it's possible to affirm that \te{} isn't very mentally tiring both fo those who are familiar with the pad and who do not have it. The slightest difference between the two groups could be eliminated by giving more time to the users to become confident with the pad. 
	
	\item \textbf{Mental effort in \kt{}}
	
	As shown in the relative table the differences between the two groups are substantial: $ 5,2 $ for \smallusers{} and $ 2,8 $ for \bigusers. Four users of \smallusers{} group started with \kt{} teaching so they had to be more mentally relaxed, but this didn't happen. This concept is related to the fact that more than half ot this group never use a robot before this experiment.
	
	% cosa proponiamo per sistemare?
	
	\item \textbf{Physical effort in \te{}}
	
	The concept of physical effort in \te{} doesn't make much sense as there isn't interaction with the robot. In fact, the values obtained from the two groups are identical: $ 1,2 $ and these values are very low.
	In figure \ref{fig:wrench_tt} it's possible to immediately spot that the force applied on EE during the experiment are close to zero, therefore null. There are only a little force due to the fact that the EE is not completely balanced. In fact, \te{} puts users at ease because it minimizes the interaction forces between the robot and the user. It's possible to say that \te{} unifies the differences between the physical characteristics.
	
	
	\item \textbf{Physical effort in \kt{}}
	
	The most important values, especially for the analysis that was conducted is relative to the physical effort required to move the robot to perform assembly operations. The values obtained from the questionnaire highlight the differences between the two groups: $ 5,4 $ for \smallusers{} and $ 3,8 $ for \bigusers{}. It's possible to notice that the first group believes that \kt{} teaching is more physically tiring than the second group. This is certainly due to differences in personal physical characteristics. Supporting this concept is the figure \ref{fig:wrench_all_kt} that shown the differences between the two groups. In fact, it's possible to notice that the \smallusers{} groups need more force on $ x $ and $ z $ to move the robot, instead the value on the $ y $ axis remains unchanged from the two groups because no significant movements are made. Due to the increased force used to move the robot, it's possible to understand that the users of the group \smallusers{} are more tired that the users of \bigusers{}.
	
\end{itemize}


% risposte dei questionari
% quello che ho nel pdf analisi stazza

\noindent
% todo pro e contro




