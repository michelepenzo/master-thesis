% experiments and result

\chapter{Results analysis}
\label{results-analysis}

In this chapter all the results are presented in an objective way. In these sections some graphs, figures and tables are presented without discussing the results obtained. In the next chapter, a complete explanation of the results is provided.

%----------------------------------------------------------------------------------------

\section{Comments about trials}
\label{comments-about-trials}

During the experiment all the participants were set free to pick up the objects in the order they prefer. All of them use the order as $ \{ $\textit{triangle, trapezoid and circle}$ \} $, but only one decided to pick up the objects in different order for all the trials only in \kt{}. This doesn't affect the data.\\
For simplicity we summarize by saying that with $ \{t1,t2\} $ is indicated the task and with $ \{r1,r2,r3\} $ the trial. As described in \ref{experimental-design}, for task $ \{t1,t2\} $ three trials in both the modalities were done. From these trials some comments was taken and it's possible to report that:
\begin{itemize}
	\item in \textbf{\kt{}} there aren't many additional comments. Only one user, for every trial, took many waypoints even after it was shown to him how the robot replicates the sequence. Moreover sometimes some users wrong in taking the waypoint and opens or closes the gripper, but this not affect the final realization. Finally, an user who knows the environment well always takes a point just above the place position to make the interlocking without problems: this happens only for the second task.
	
	\item in \textbf{\te{}} there were many problems in teaching phase. Out of ten users, seven of them made a collision that is when the robot exerts too much force on a surface and this activates the collision avoidance feature. In figure \ref{fig:pass_fail} successes and failures during teaching phase are shown. We can see that the first and the second column, that are the first trails have a high number of failures.
	In task $ t1 $ and trial $ r3 $ and task $ t2 $ and trial $ r1,r2 $ we can see that there was only a mistake by all the users: this is acceptable. The surprising value is the last one (task $ t2 $ and trial $ r3 $): it would be logical that this value was zero or small because it's the latest trial and the users should have become very familiar with the pad. The users who made these mistakes were only those who started with \te{}. Overall the error rate during the teach phase is $ 16.6\% $: for a better report it's possible to resume the success rate for each trial of all users as evidenced in table \ref{tab:pass}. It was also noted that during the trials sometimes they forgot to save the waypoints and it was remembered to the users to save them for a better replay phase.
	
	\begin{figure}[H]
		\centering
		\includegraphics[scale=0.2]{pass_fail_teleop.png}
		\caption{Failures in \te{} teaching}
		\label{fig:pass_fail}
	\end{figure}
	
	\begin{table}[H]
		\centering
		\begin{tabular}{c||cccccc}
			& \textbf{t1-r1} & \textbf{t1-r2} &\textbf{t1-r3} & \textbf{t2-r1} &\textbf{t2-r2} &\textbf{t2-r3} \\
			\hline \hline
			\textbf{\checkmark}	&$ 70\% $	&$ 80\% $	&$ 90\% $	&$ 90\% $ &$ 90\% $	&$ 80\% $ \\
		\end{tabular}
		\caption{Success rate for each trial of\\ each task in \te{} teaching}
		\label{tab:pass}
	\end{table}

\end{itemize}

\section{Questionnaire results}
\label{questionnaire-results}

As described in section \ref{post-experiment-phase}, the questionnaire was divided into two phases: the first part has already been presented in \ref{participants}, while the second part asked some questions which had to be answered with a value between $ 1 $ and $ 10 $. The questions with the most important results that are presented are:

\begin{itemize}
	\item how much \textbf{physical effort} was required for \te{}/\kt{} teaching?
	
	In figure \ref{fig:physical_effort} we can immediately spot the differences between the two modalities: in \kt{} since the task are performed moving the robot, a force to move it is necessary. The medium value is $ 5 $ which tells us that it's actually not that difficult to move the robot. On the other side, the boxplot relative to \te{} indicates that there's no physical effort for moving the robot.
	
	\begin{figure}[ht]
		\centering
		\includegraphics[scale=0.2]{physical_effort.png}
		\caption{Physical effort in \kt{} and \te{}}
		\label{fig:physical_effort}
	\end{figure}
	
	% todo newpage
	\newpage
	\item how much \textbf{mental effort} was required for \te{}/\kt{} teaching?
	
	In figure \ref{fig:mental_effort} it's possible to immediately spot that the two modalities requires mental effort similar among them, respect to physical effort. We can notice that the medium value for \te{} is higher that the medium one in \kt{}. Obviously in \te{} for moving the robot it's necessary to remember all the buttons and commands that have been taught in teach phase before the experiment, but this values is lowered by the users which have confidence with the pad. %Moreover a greater mental effort is required by the user have to coordinate and understand the reference frame that is used on the robot compared to the one you are used to using.
	
	\begin{figure}[ht]
		\centering
		\includegraphics[scale=0.2]{mental_effort.png}
		\caption{Mental effort in \kt{} and \te{}}
		\label{fig:mental_effort}
	\end{figure}

\end{itemize}
\noindent From the final comments not obligatory for the purposes of the questionnaire, the users said that the \te{} is very interesting and they propose to map a new button on pad to move faster on long movements and another one to be better precise with the rotation of the EE. Instead they propose to add an audio feedback (not only the \textit{rgb} led) after getting the pose or changing the control mode. Moreover an user propose to let him choose the reference frame that is used to move the robot.

\section{Groups}
\label{groups}

From the questionnaire questions and answers is possible to create some different groups based on personal characteristics. Many different factors were analyzed to see if there was a correlation between the various characteristics of the users and the results obtained from the experiment. From the data is possible to determine two possible classifications based on:

\begin{itemize}
	% TODO trovare qualcosa di meglio per dividere i gruppi
	\item \textbf{physical characteristics}: in questionnaire was asked the weight and height keeping a range between $ 10cm $ and $ 10kg $. From the answers is possible to classify two macro groups, both of them composed by five users.
	The first group is composed by the users which height is less or equal than $ 70kg $ and which height it's less or equal than $ 180cm $. This group is  conveniently identified and referenced in the next sections with \smallusers{} that stands for low body users. The other group, identified with \bigusers{} that stands for tall body users, is composed by users with weight grater that $ 70kg $ and height grater than $ 170cm $. There are also two users in this group that are taller than $ 180cm $.	

	\item \textbf{confidence with the pad}: the same reasoning can be applied to this classification. In the questionnaire was asked the level of confidence with the pad, that is with how frequency the pad is used and from the answers two macro groups both of them composed by 5 people have been identified. The users who replied more than once a week and at least once a month were classified as regular players and these users are called \textbf{RP}. The users who replied that they use the pad once a year or they never used it were classified as casual players and they are called \textbf{CP}. Also all the users who have used the pad in the past are casual players.
\end{itemize}

\noindent Moreover, during the experiment phase five users were made to start with the phase related to \kt{} teaching and the other five with \te{} teaching to better divide users into groups for a possible analysis of these factors as well. In chapter \ref{results-discussion} the results obtained starting from the two classifications described above and from the questionnaire are explained.

\section{Data analysis}
\label{data-analysis}

To have groups with better data, one user for each group with an elevate standard deviation calculated for each task over the three trials has been removed.\\
In the following tables time and distance to complete each task in both the modalities are represented as difference between the two groups that were created based on physical characteristics. 
In table \ref{tab:time} the values are described in terms of seconds, instead in table \ref{tab:distance} the values presented are in meters. For both tables the first two columns indicates the groups, in the third one the difference between the \smallusers{} and \bigusers{} group is provided. In the last column the gain between the performances of the two groups is expresses as percentage. The rows represent which task is performed and in which mode. The positive and negative symbol was kept to indicate which of the two groups resulted faster or which one made less distance.
\begin{table}[H]
	\centering
	\begin{tabular}{l||cccc}
		& \smallusers & \bigusers & \textbf{Difference} & \textbf{Gain}\\
		\hline \hline
		\textbf{TT - Task1} & $ 147 $ & $ 154 $ & $ -7 $  & $ -4,5\% $\\
		\textbf{KT - Task1} & $ 70 $  & $ 64 $  & $ +6 $ & $ 9,4\% $\\
		\textbf{TT - Task2} & $ 175 $ & $ 192 $ & $ -17 $ & $ -8,9\% $\\
		\textbf{KT - Task2} & $ 70 $  & $ 62 $  & $ +8 $  & $ 12,3\% $
	\end{tabular}
	\caption{Time difference in seconds between the two groups}
	\label{tab:time}
\end{table}

\begin{table}[H]
	\centering
	\begin{tabular}{l||cccc}
		& \smallusers & \bigusers & \textbf{Difference} & \textbf{Gain}\\
		\hline \hline
		\textbf{TT - Task1} & $ 2,10 $ & $ 2,23 $ & $ -0,13 $ & $ -5,8\% $\\
		\textbf{KT - Task1} & $ 2,54 $ & $ 2,39 $ & $ +0,15 $ & $ 6,3\% $\\
		\textbf{TT - Task2} & $ 1,97 $ & $ 2,34 $ & $ -0,37 $ & $ -15,8\% $\\
		\textbf{KT - Task2} & $ 2,54 $ & $ 2,29 $ & $ +0,25 $ & $ 10,9\% $
	\end{tabular}
	\caption{Distance difference in meters between the two groups}
	\label{tab:distance}
\end{table}

\noindent
The two figures in \ref{fig:time_and_distance_group_t2} indicates the same values of the previous tables. The figure \ref{fig:time_groups_t2} represents graphically the table \ref{tab:time} and the values on $ x $ axis are in seconds. Instead in figure \ref{fig:distance_groups_t2.png} there are the data represented in table \ref{tab:distance} and the values on $ x $ axis are in meters. From these figures is possible to quickly understand the differences between the two groups and the different modalities. Moreover it's possible to understand the correlation between time and distance. Only times and distances for the task $ t1 $ are represented in the these figures because the figures for task $ t2 $ are similar but with the values described in the relevant table.

\begin{figure}[H]
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{time_groups_t2.png}
		\caption{Time in seconds for completing task $ t1 $}
		\label{fig:time_groups_t2}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{distance_groups_t2.png}
		\caption{Distance in meters for completing task $ t1 $}
		\label{fig:distance_groups_t2.png}
	\end{subfigure}
	\caption{Time and distance for completing task $ t1 $ \\in both the modalities for each group}
	\label{fig:time_and_distance_group_t2}
\end{figure}

\noindent
From the questionnaire have been collected the data relative to physical and mental effort. These data have been manipulated with division into groups based on physical characteristics. In table \ref{tab:effort} there is the average of the values indicated by the users in questionnaire. The value that was to be indicated were in scale from $ 1 $ to $ 10 $. As the previous tables, on the first and second column there are the two groups. Instead, on the rows there are the efforts for each modality. The first two rows are relative to mental effort, the first one in \te{} and the second one in \kt{}. The third row is relative to physical effort in \te{} and the last one refers to \kt{}. The overall values without the divisions into groups can be seen in figure \ref{fig:mental_effort} for mental effort and in figure \ref{fig:physical_effort} for physical effort.

\begin{table}[H]
	\centering
	\begin{tabular}{l||cc}
		& \smallusers{} & \bigusers{} \\
		\hline \hline
		\textbf{TT - Mental}	& $ 5,6 $ & $ 6 $ \\
		\textbf{KT - Mental}	& $ 5,2 $ & $ 2,8 $ \\
		\textbf{TT - Physical} 	& $ 1,2 $ & $ 1,2 $ \\
		\textbf{KT - Physical} 	& $ 5,4 $ & $ 3,8 $
	\end{tabular}
	\caption{Physical and mental effort in both the modalities}
	\label{tab:effort}
\end{table}

\noindent
As described in the previous chapters many data were collected during the experiment. One of these is the \texttt{cartesian\_wrench}: it's composed of a vector that represent the force along the three spatial directions $ \{ x,y,z \} $. In figure \ref{fig:plot_wrench} is possible to see the differences between the force applied on EE during the experiment, in \te{} the interaction forces are limited instead in \kt{} the forces are high.  In both figures on $ y $ axis there's the force applied on $ z $ and along $ x $ axis there is the time in seconds to complete the trial. In these figures only one trial of the same user is represented. The same graphs, that are similar, can be calculated on forces applied on $ x $ and $ y $. 

\begin{figure}[H]
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_tt.png}
		\caption{\Te{} teaching}
		\label{fig:wrench_tt}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_kt.png}
		\caption{\Kt{} teaching}
		\label{fig:wrenck_kt}
	\end{subfigure}
	\caption{Difference between wrench on Z \\in \te{} and \kt{}}
	\label{fig:plot_wrench}
\end{figure}

\noindent
In figure \ref{fig:wrench_all} there is another representation of \texttt{cartesian\_wrench} calculated on $ x,y,z $. These figures represent the difference between \kt{} and \te{} teaching between the two groups always divided by physical characteristics. All the boxplots shown in both the figures are divided in three groups (a group for each value of the wrench $\{ x,y,z \}$) and every group has two boxplots: the first one for \smallusers{} group and the second one for \bigusers{} group.
Each boxplot represent the sum of the forces applied on a certain axes of the EE, by all users divided per groups performing all the trials $\{ r1,r2,r3\} $ of each task $\{ t1,t2 \}$.
On $ x $ axis the force applied on EE is represented in $ N $.

\begin{figure}[H]
	\centering
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_all_kt.png}
		\caption{\Te{} teaching}
		\label{fig:wrench_all_kt}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{wrench_all_tt.png}
		\caption{\Kt{} teaching}
		\label{fig:wrench_all_tt}
	\end{subfigure}
	\caption{Wrench on $ x,y,z $ of users grouped by physical \\characteristics during \te{} and \kt{} teaching}
	\label{fig:wrench_all}
\end{figure}

\noindent
The table represented in figure \ref{tab:ratio} represent the total number of waypoints taken by all users grouped by physical characteristics during all trials for each task in different modalities. It's possible to notice that there are two macro columns for the two groups where each of them contains other three columns. For each macro column, the first column contains the number of trials completed by all users of the group. The second column contains the number of waypoints taken by all users during all the trials and the third column is the ratio between the two first columns. Instead the rows represent the modality and the task that is performed.
The minimum number of waypoints to have a task that can be replayed correctly by the \kuka{} is $ 16 $: three points for every objects except only two points for the first and last object. Instead the optimal number is $ 18 $: three points for every object to pick and place.

\begin{table}[H]
	\centering
	\begin{tabular}{l||ccl||ccl}
		& \multicolumn{3}{c||}{\smallusers} & \multicolumn{3}{c}{\bigusers} \\
		\hline \rule{0pt}{2ex}    		
		& \textbf{trials} & \textbf{waypoints} & \textbf{ratio} & \textbf{trials} & \textbf{waypoints} & \textbf{ratio} \\
		\hline \hline \rule{0pt}{3ex}
		\textbf{TT - Task1}	& $ 12 $ & $ 191 $ & $ 15,9 $ & $ 12 $ & $ 225 $ & $ 18,8 $\\
		\textbf{TT - Task2}	& $ 13 $ & $ 225 $ & $ 17,3 $ & $ 13 $ & $ 267 $ & $ 20,5 $\\
		\textbf{KT - Task1}	& $ 15 $ & $ 256 $ & $ 17 $   & $ 14 $ & $ 294 $ & $ 21 $ \\
		\textbf{KT - Task2}	& $ 15 $ & $ 277 $ & $ 18,5 $ & $ 15 $ & $ 298 $ & $ 19,9 $
	\end{tabular}

	\caption{Difference on waypoints taken during the execution of the task} 
	\label{tab:ratio}
\end{table}

\noindent
In figure \ref{fig:waypoints} are shown the waypoints taken during the execution of the task $ t1 $. The red points are referred to \smallusers{} group, instead the blue ones are for \bigusers{} group. On $ x $ and $ y $ axis there is the locations of the points within the space. Each patch of color indicates the position of the shapes, while the $ \square $ mark indicates the position of the cube above each object to facilitate grasping. All waypoints aren't in the center of the object because the position save is the one relative to the center of the media flange mounted on6 the robot.

\begin{figure}[H]
	\centering
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{waypoints_kt_t1.png}
		\caption{\Kt{} teaching}
		\label{fig:waypoints_kt_t1}
	\end{subfigure}%
	\\
	\begin{subfigure}{1\textwidth}
		\centering
		\includegraphics[scale=0.2]{waypoints_tt_t1.png}
		\caption{\Te{} teaching}
		\label{fig:waypoints_tt_t1}
	\end{subfigure}
	\caption{Waypoints precision in \te{} and \kt{} teaching}
	\label{fig:waypoints}
\end{figure}